{"ast":null,"code":"import _regeneratorRuntime from\"/home/arjun/workspace/coronavirus-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/arjun/workspace/coronavirus-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/arjun/workspace/coronavirus-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/arjun/workspace/coronavirus-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/arjun/workspace/coronavirus-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/arjun/workspace/coronavirus-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*global chrome*/import React,{Component}from'react';var Results=/*#__PURE__*/function(_Component){_inherits(Results,_Component);var _super=_createSuper(Results);function Results(props){var _this;_classCallCheck(this,Results);_this=_super.call(this,props);_this.state={selection:\"initial selection\",response:\"...\"};return _this;}_createClass(Results,[{key:\"componentDidMount\",value:function componentDidMount(){this.query(chrome.extension.getBackgroundPage().window.getSelection.toString());}},{key:\"query\",value:function(){var _query=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var _this2=this;var body,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({selection:text});body={\"query\":text};url=\"https://covid-api.arjungandhi.com/\";fetch(url,{method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(body)}).then(function(res){return res.json();}).then(function(result){_this2.setState({response:\" meeps \"+JSON.stringify(result)});}).catch(function(err){_this2.setState({response:\"error: \"+err});});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function query(_x){return _query.apply(this,arguments);}return query;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,\"this.state.selection\",this.state.selection,/*#__PURE__*/React.createElement(\"br\",null),\"this.state.response\",this.state.response);}}]);return Results;}(Component);export default Results;","map":{"version":3,"sources":["/home/arjun/workspace/coronavirus-extension/src/Results.js"],"names":["React","Component","Results","props","state","selection","response","query","chrome","extension","getBackgroundPage","window","getSelection","toString","text","setState","body","url","fetch","method","headers","JSON","stringify","then","res","json","result","catch","err"],"mappings":"y7BAAC,iBACD,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,mBADA,CAEXC,QAAQ,CAAE,KAFC,CAAb,CAFiB,aAMlB,C,iFAEmB,CAClB,KAAKC,KAAL,CAAWC,MAAM,CAACC,SAAP,CAAiBC,iBAAjB,GAAqCC,MAArC,CAA4CC,YAA5C,CAAyDC,QAAzD,EAAX,EACD,C,oHAEWC,I,+IAEV,KAAKC,QAAL,CAAc,CACZV,SAAS,CAAES,IADC,CAAd,EAGIE,I,CAAO,CAET,QAASF,IAFA,C,CAKLG,G,CAAM,oC,CACZC,KAAK,CAACD,GAAD,CACH,CAEEE,MAAM,CAAE,MAFV,CAGEC,OAAO,CAAE,CAEP,SAAU,kBAFH,CAGP,eAAgB,kBAHT,CAHX,CAUAJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAVN,CADG,CAAL,CAaCO,IAbD,CAaM,SAAAC,GAAG,CAAI,CACX,MAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,CACD,CAfD,EAgBCF,IAhBD,CAgBM,SAAAG,MAAM,CAAI,CACd,MAAI,CAACX,QAAL,CAAc,CACZT,QAAQ,CAAE,UAAYe,IAAI,CAACC,SAAL,CAAeI,MAAf,CADV,CAAd,EAGD,CApBD,EAqBCC,KArBD,CAqBO,SAAAC,GAAG,CAAI,CAEZ,MAAI,CAACb,QAAL,CAAc,CACZT,QAAQ,CAAE,UAAYsB,GADV,CAAd,EAGD,CA1BD,E,6KA+BO,CACP,mBACE,sDAEG,KAAKxB,KAAL,CAAWC,SAFd,cAGE,8BAHF,uBAKG,KAAKD,KAAL,CAAWE,QALd,CADF,CASD,C,qBAjEmBL,S,EAoEtB,cAAeC,CAAAA,OAAf","sourcesContent":[" /*global chrome*/\nimport React, { Component } from 'react';\n\nclass Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selection: \"initial selection\",\n      response: \"...\"\n    };\n  }\n\n  componentDidMount() {\n    this.query(chrome.extension.getBackgroundPage().window.getSelection.toString());\n  }\n\n  async query(text) { \n    this.setState({\n      selection: text,\n    })\n    var body = { \n      \"query\": text\n    } \n    const url = \"https://covid-api.arjungandhi.com/\"\n    fetch(url,\n      { \n        method: \"POST\",\n        headers: { \n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\" \n      }, \n      body: JSON.stringify(body)\n    })\n    .then(res => {\n      return res.json()\n    })\n    .then(result => {\n      this.setState({\n        response: \" meeps \" + JSON.stringify(result)\n      })\n    })\n    .catch(err => { \n      this.setState({\n        response: \"error: \" + err\n      })\n    }) \n  } \n\n  render() {\n    return (\n      <div>\n        this.state.selection\n        {this.state.selection}\n        <br/>\n        this.state.response\n        {this.state.response}\n      </div>\n    )\n  }\n}\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}